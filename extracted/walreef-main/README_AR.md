# ๐ ููุตุฉ ููุงุก ูุงุญุฉ ุงูุฑูู
## ูุธุงู ููุงุก ูุชูุงูู ูุน ุชูุงูู Rewaa API

### ๐ฏ ูุธุฑุฉ ุนุงูุฉ
ููุตุฉ ููุงุก ุงุญุชุฑุงููุฉ ูุชููููุงุช ูุงุญุฉ ุงูุฑูู ูุน ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉุ ูุตููุฉ ููุฌูุงู ุฃููุงู (Mobile-First) ูุน ุชูุงูู ูุจุงุดุฑ ูุน ูุธุงู ุงููุจูุนุงุช Rewaa.

---

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ููุนููุงุก:
- โ ุชุณุฌูู ุณูู ุจุฑูู ุงูุฌูุงู + OTP (Twilio)
- โ ููุญุฉ ุชุญูู ุชุนุฑุถ ุฑุตูุฏ ุงูููุงุท ูุงูููุงุท ุงูููุชููุฉ ูุฑูุจุงู
- โ ุณุฌู ูุงูู ููุนูููุงุช ูุงูููุงุชูุฑ
- โ ุชุจุฏูู ุจูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- โ ุชุตููู ูุชุฌุงูุจ ููุฌูุงู ูุน Bottom Navigation

### ูููุฏูุฑูู:
- โ ููุญุฉ ุชุญูู ุดุงููุฉ ุจุงูุฅุญุตุงุฆูุงุช
- โ ุฅุฏุงุฑุฉ ุงูุนููุงุก (ุนุฑุถุ ุจุญุซุ ุชุนุฏููุ ุญุฐู)
- โ ุฅุถุงูุฉ ููุงุท ูุฏููุงู
- โ ุฅุนุฏุงุฏุงุช ูุนูุงุฑ ุงูููุงุท (ุงูุชุฑุงุถู: 10 ุฑูุงู = ููุทุฉ)
- โ ุฅุฏุงุฑุฉ ูุฒุงููุฉ Rewaa
- โ ูุธุงู ุฅุฑุณุงู ุจุฑูุฏ ุฅููุชุฑููู ููุนููุงุก

### ุงูุชูุงูู ูุน Rewaa:
- โ ูุตุงุฏูุฉ ุชููุงุฆูุฉ ูุชุญุฏูุซ ุงูุชููู ูู 55 ุฏูููุฉ
- โ ูุฒุงููุฉ ุงูููุงุชูุฑ ูู 15 ุฏูููุฉ
- โ ุฅูุดุงุก ุนููุงุก ุฌุฏุฏ ูู Rewaa ุชููุงุฆูุงู
- โ ุญุณุงุจ ุงูููุงุท ุชููุงุฆูุงู ูู ุงูููุงุชูุฑ

---

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

**Backend:**
- FastAPI (Python)
- MongoDB
- Twilio (SMS/OTP)
- SendGrid (Email)
- APScheduler (Cron Jobs)
- JWT Authentication

**Frontend:**
- React 19
- Tailwind CSS
- i18next (Arabic/English)
- Framer Motion
- React Router
- Axios

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### 1. ุจูุงูุงุช ุงูุงุนุชูุงุฏ

ูู ุจุชุญุฏูุซ ุงูููู `/app/backend/.env`:

```bash
# Twilio (ุชู ุชูุนููู โ)
TWILIO_ACCOUNT_SID="AC301163667112e3f9b6556d2b487a0298"
TWILIO_AUTH_TOKEN="71a20f3e969209e7588041cf213ee1d0"
TWILIO_VERIFY_SERVICE="VAd57fb5150b816bd4d3f0ac618f7aaa89"

# SendGrid (ูู ุจุฅุถุงูุฉ ููุชุงุญู)
SENDGRID_API_KEY="your_sendgrid_api_key"
SENDER_EMAIL="noreply@alreef.com"

# Rewaa (ูู ุจุฅุถุงูุฉ ุจูุงูุงุชู)
REWAA_EMAIL="your_rewaa_email"
REWAA_PASSWORD="your_rewaa_password"
REWAA_API_BASE_URL="https://api.platform.rewaatech.com"
```

### 2. ุชุดุบูู Cron Jobs

ูุจุฏุก ูุฒุงููุฉ ุงูููุงุชูุฑ ุงูุชููุงุฆูุฉ:

```bash
cd /app/backend
nohup python cron_jobs.py > /var/log/cron_jobs.log 2>&1 &
```

### 3. ุงููุตูู ูููุธุงู

- **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**: http://localhost:3000
- **ุชุณุฌูู ุฏุฎูู ุงููุฏูุฑ**: http://localhost:3000/admin/login
- **Backend API**: http://localhost:8001/api
- **API Docs**: http://localhost:8001/docs

---

## ๐ค ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ

### ุงููุฏูุฑ:
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: admin@alreef.com
- **ูููุฉ ุงููุฑูุฑ**: Admin@123

### ุนููู ุชุฌุฑูุจู:
ุชู ุฅูุดุงุก ุนููู ุชุฌุฑูุจู:
- **ุฑูู ุงูุฌูุงู**: +966501234567
- **ุงูุงุณู**: ุนููู ุชุฌุฑูุจู

---

## ๐ฑ ุชุฏูู ุงููุณุชุฎุฏู

### ููุนููุงุก:
1. ุชุณุฌูู ุจุงูุงุณู ูุงูุจุฑูุฏ ูุฑูู ุงูุฌูุงู
2. ุฅุฑุณุงู OTP ููุชุญูู
3. ุงููุตูู ูู Dashboard ูุนุฑุถ ุงูููุงุท
4. ูุฑุงุฌุนุฉ ุงูุนูููุงุช ูุงูููุงุชูุฑ

### ูููุฏูุฑูู:
1. ุชุณุฌูู ุฏุฎูู ุจุงูุจุฑูุฏ ูุงูุจุงุณูุฑุฏ
2. ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุดุงููุฉ
3. ุฅุฏุงุฑุฉ ุงูุนููุงุก
4. ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช

---

## ๐ ููููุฉ ุนูู ุงููุฒุงููุฉ ูุน Rewaa

### 1. ุชุญุฏูุซ ุงูุชููู:
- ูุชู ุชุญุฏูุซ `idToken` ุชููุงุฆูุงู ูู **55 ุฏูููุฉ**
- ุตูุงุญูุฉ ุงูุชููู: ุณุงุนุฉ ูุงุญุฏุฉ

### 2. ูุฒุงููุฉ ุงูููุงุชูุฑ:
- ุชุนูู ูู **15 ุฏูููุฉ**
- ุชุจุฏุฃ ูู "ุฑูู ุงููุงุชูุฑุฉ ุงููุฑุฌุนู" (ูููู ุชุนุฏููู ูู ุงูุฅุนุฏุงุฏุงุช)
- ุชุณุชูุฑ ุจุฒูุงุฏุฉ 1 ุญุชู ุงููุตูู ูุฎุทุฃ (ูุงุชูุฑุฉ ุบูุฑ ููุฌูุฏุฉ)
- ุญุณุงุจ ุงูููุงุท ุชููุงุฆูุงู: `ุงูููุงุท = ุฅุฌูุงูู ุงููุงุชูุฑุฉ รท ูุนูุงุฑ ุงูููุงุท`

### 3. ุญูุธ ุงูุจูุงูุงุช:
- ุฑูู ุงููุงุชูุฑุฉุ ุงูุชุงุฑูุฎุ ุงูุนูููุ ุงููุจูุบุ ุงูููุงุท
- ุชุญุฏูุซ ุฑุตูุฏ ุงูุนููู ุชููุงุฆูุงู
- ุฅูุดุงุก ุณุฌู ุนูููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงููุชุงุญุฉ

### ูู ููุญุฉ ุงููุฏูุฑ:
1. **ูุนูุงุฑ ุงูููุงุท**: ูู ุฑูุงู ููู ููุทุฉ (ุงูุชุฑุงุถู: 10)
2. **ุฑูู ุงููุงุชูุฑุฉ ุงููุฑุฌุนู**: ูู ุฃู ูุงุชูุฑุฉ ุชุจุฏุฃ ุงููุฒุงููุฉ
3. **ุดุนุงุฑ ุงููุชุฌุฑ**: ุชุบููุฑ ุงูุดุนุงุฑ

### ูู ููู .env:
- ุจูุงูุงุช Rewaa
- ุจูุงูุงุช Twilio
- ุจูุงูุงุช SendGrid

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช (MongoDB Collections)

```javascript
// ุงูุนููุงุก
customers: {
  id, name, email, phone, 
  total_points, active_points, expired_points,
  rewaa_customer_id, created_at, updated_at
}

// ุงูููุงุชูุฑ
invoices: {
  id, invoice_number, customer_id, customer_phone,
  total_amount, points_earned, payment_method,
  invoice_date, synced_at
}

// ุนูููุงุช ุงูููุงุท
points_transactions: {
  id, customer_id, transaction_type,
  points, description, invoice_id,
  created_at, expires_at
}

// ุงูุฅุนุฏุงุฏุงุช
settings: {
  id, key, value, updated_at
}

// ุงููุฏูุฑูู
admins: {
  id, email, hashed_password, name, created_at
}

// ุฑููุฒ OTP
otp_codes: {
  id, phone, code, verified, 
  created_at, expires_at
}
```

---

## ๐ ุงูุฃูุงู

- โ JWT Tokens ูููุตุงุฏูุฉ
- โ bcrypt ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- โ OTP ุนุจุฑ Twilio ููุชุญูู
- โ CORS ูุญุฏุฏ
- โ Environment variables ููุจูุงูุงุช ุงูุญุณุงุณุฉ
- โ ุงูุชูุงุก ุตูุงุญูุฉ OTP ุจุนุฏ 10 ุฏูุงุฆู
- โ ุงูุชูุงุก ุตูุงุญูุฉ ุงูููุงุท ุจุนุฏ ุณูุฉ

---

## ๐จ ุงูุชุตููู

### ุงูุฃููุงู:
- **ุงูุฃุณุงุณู**: #1A4D2E (ุฃุฎุถุฑ ุฏุงูู)
- **ุงูุซุงููู**: #FFC107 (ุฐูุจู/ุฃุตูุฑ)
- **ุงูุฎูููุฉ**: #F9FAF9 (ุฑูุงุฏู ูุงุชุญ)

### ุงูุฎุทูุท:
- **ุงูุนุฑุจูุฉ**: IBM Plex Sans Arabic
- **ุงูุฅูุฌููุฒูุฉ**: IBM Plex Sans

### ุงูุชุตููู:
- Mobile-First (ุฃููููุฉ ููุฌูุงู)
- RTL Native (ูู ุงููููู ูููุณุงุฑ)
- Bottom Navigation ููุฌูุงู
- Responsive Design

---

## ๐ API Endpoints

### ุงูุนููุงุก:
- `POST /api/auth/customer/send-otp` - ุฅุฑุณุงู OTP
- `POST /api/auth/customer/verify-otp` - ุงูุชุญูู ูู OTP
- `POST /api/auth/customer/register` - ุชุณุฌูู ุนููู ุฌุฏูุฏ
- `GET /api/customer/profile` - ุงูููู ุงูุดุฎุตู
- `GET /api/customer/transactions` - ุงูุนูููุงุช
- `GET /api/customer/invoices` - ุงูููุงุชูุฑ

### ุงููุฏูุฑูู:
- `POST /api/auth/admin/login` - ุชุณุฌูู ุฏุฎูู ุงููุฏูุฑ
- `GET /api/admin/stats` - ุงูุฅุญุตุงุฆูุงุช
- `GET /api/admin/customers` - ูุงุฆูุฉ ุงูุนููุงุก
- `PUT /api/admin/customers/{id}` - ุชุนุฏูู ุนููู
- `DELETE /api/admin/customers/{id}` - ุญุฐู ุนููู
- `POST /api/admin/customers/{id}/add-points` - ุฅุถุงูุฉ ููุงุท
- `GET /api/admin/settings` - ุงูุฅุนุฏุงุฏุงุช
- `PUT /api/admin/settings/{key}` - ุชุญุฏูุซ ุฅุนุฏุงุฏ
- `POST /api/admin/send-email` - ุฅุฑุณุงู ุจุฑูุฏ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### Backend ูุง ูุนูู:
```bash
sudo supervisorctl restart backend
tail -f /var/log/supervisor/backend.err.log
```

### Frontend ูุง ูุนูู:
```bash
sudo supervisorctl restart frontend
tail -f /var/log/supervisor/frontend.err.log
```

### Cron Jobs ูุง ุชุนูู:
```bash
ps aux | grep cron_jobs
tail -f /var/log/cron_jobs.log
```

### OTP ูุง ูุฑุณู:
- ุชุญูู ูู ุจูุงูุงุช Twilio ูู .env
- ุชุฃูุฏ ูู restart backend ุจุนุฏ ุงูุชุนุฏูู
- ุชุญูู ูู logs: `/var/log/supervisor/backend.err.log`

---

## ๐ ุฎุทุท ุงูุชุทููุฑ ุงููุณุชูุจููุฉ

1. โจ **ูุธุงู ุงูููุงูุขุช**: ุงุณุชุจุฏุงู ุงูููุงุท ุจููุงูุขุช ูุญุฏุฏุฉ
2. ๐ฑ **ุฅุดุนุงุฑุงุช Push**: ุชูุจููุงุช ุนูุฏ ุงูุชุฑุงุจ ุงูุชูุงุก ุงูููุงุท
3. ๐ **ุนุฑูุถ ูุถุงุนูุฉ ุงูููุงุท**: ุฃููุงุช ูุนููุฉ ููุถุงุนูุฉ ุงูููุงุท
4. ๐ **ุชูุงุฑูุฑ ูุชูุฏูุฉ**: ุชุญูููุงุช ููุตูุฉ ููุนููุงุก ูุงููุจูุนุงุช
5. ๐ณ **ุงุณุชุจุฏุงู ููุงุท ูุจุงุดุฑ**: ุงูุณูุงุญ ููุนููุงุก ุจุงุณุชุฎุฏุงู ุงูููุงุท ูู ุงูุฏูุน

---

## ๐ ุงูุฏุนู

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุดุงูู:
- ๐ง ุงูุจุฑูุฏ: support@alreef.com
- ๐ฑ ุงูุฌูุงู: +966501234567

---

## ๐ ุงูุชุฑุฎูุต

ยฉ 2025 ุชููููุงุช ูุงุญุฉ ุงูุฑูู - ุฌููุน ุงูุญููู ูุญููุธุฉ

---

**ุชู ุงูุจูุงุก ุจูุงุณุทุฉ Emergent AI ๐ค**
